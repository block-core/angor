<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:shell="clr-namespace:AngorApp.Sections.Shell"
             mc:Ignorable="d" d:DesignWidth="800"
             x:Class="AngorApp.Sections.Shell.HeaderView" x:DataType="shell:HeaderViewModel">

    <DockPanel Height="42">
        <Viewbox>
            <IconButton Margin="0 2"
                        IsVisible="{Binding $self.IsEffectivelyEnabled}"
                        ButtonTheme="{StaticResource TransparentButton}"
                        VerticalAlignment="Center"
                        Command="{Binding Back}"
                        Icon="{Icon fa-angle-left}"
                        Content="Back">
            </IconButton>
        </Viewbox>
        <ToggleButton VerticalAlignment="Center" Margin="5 0" ToolTip.Tip="Switch theme" Theme="{StaticResource TransparentToggleButton}" DockPanel.Dock="Right" IsChecked="{Binding IsDarkThemeEnabled}">
            <ToggleButton.Styles>
                <Style Selector="ToggleButton:checked">
                    <Setter Property="Content" Value="{Icon mdi-weather-night}" />
                </Style>
                <Style Selector="ToggleButton:unchecked">
                    <Setter Property="Content" Value="{Icon mdi-white-balance-sunny}" />
                </Style>
            </ToggleButton.Styles>
        </ToggleButton>
        <EdgePanel IsVisible="{Binding ProfileName, Converter={x:Static StringConverters.IsNotNullOrEmpty}}" StartContent="{Icon fa-user}" DockPanel.Dock="Right" IconOptions.Size="{StaticResource IconSizeSmall}">
            <TextBlock Text="{Binding ProfileName}" Margin="4" Classes="SizeSmall" />
        </EdgePanel>
        <ContentControl Content="{Binding Content}" />
    </DockPanel>
</UserControl>